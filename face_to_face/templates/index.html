<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <title>Document</title>
</head>

<body>
    <div class="content">
        <h1>FACE TO FACE</h1>
        <h1>{{ people[0] }}</h1>

        {% if life_amount == -20 %}
        <h2>{{ player_name }}, YOU LOST!</h2>
        {% elif life_amount == 1000 %}
        <h2>{{ player_name }}, YOU WON!</h2>
        {% else %}
        <h2>Welcome, {{ player_name }}!</h2>
        <table>
            <tr>
                <th>PEOPLE</th>
                <th id="life">LIFE LEFT: {{ life_amount }}</th>
            </tr>
            <tr>

                <form action="/" method="POST">
                    <td>
                        <select name="people_slc" method="GET" action="/" id="">
                            <option value="" selected>select...</option>
                            {% for person in people[0:] %}
                            <option value="{{ person }}">{{ person }}</option>
                            {% endfor %}
                        </select>

                        <input type="submit" name="confirm" class="btn"
                            style="background-color: rgba(18, 112, 18, 0.623);" value="CONFIRM">
                    </td>
                </form>
                <td>
                    <form action="/looselife/" method="POST">
                        <input type="submit" name="" class="btn" value="get tip" onclick="changeIndex()">
                    </form></td>

            </tr>
        </table>

        
        <h2 id="tipIndex">TIPS:</h2>
            {% for tip in tip_person %}
            <h3>{{ tip }}</h3>
            {% endfor %}

        {%endif%}
    </div>

    <script>
        var tip_h2 = document.getElementById("tipIndex")
        var i = 0
        function changeIndex() {
            const paragraph = document.createElement("p")
            if (i == 0) {
                x = "{{ tip_person[0] }}"
            } else if (i == 1) {
                x = "{{ tip_person[1] }}"
            } else if (i == 2) {
                x = "{{ tip_person[2] }}"
            } else if (i == 3) {
                x = "{{ tip_person[3] }}"
            } else if (i == 4) {
                x = "{{ tip_person[4] }}"
                i = 0
            }

            const text = document.createTextNode(x)
            paragraph.appendChild(text)

            tip_h2.innerHTML += `<br>${paragraph.innerHTML}`
            i += 1
        }

    </script>
</body>

</html>